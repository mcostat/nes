<!DOCTYPE html>

{% load static i18n l10n compress %}

{% get_current_language as LANGUAGE_CODE %}
{% get_available_languages as LANGUAGES %}
{% get_language_info_list for LANGUAGES as languages %}

<html lang="{{ LANGUAGE_CODE }}" xml:lang="{{ LANGUAGE_CODE }}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>{% trans "Neuroscience Experiments System - NES" %}</title>
    <link rel="icon" type="image/vnd.microsoft.icon" href="{% static "imgs/favicon.ico" %}" />
    <meta name="description" content="Database system for storing data related to EEG and EMG" />
    <meta name="author" content="Neuromat, PEB-Lapis" />

    {% block extraheader %}
    {% endblock extraheader %}

    <link rel="preload" href="{% static "site/bootstrap-5.3.2-dist/css/bootstrap.min.css" %}" as="style" />

    <link rel="stylesheet" href="{% static "site/bootstrap-5.3.2-dist/css/bootstrap.min.css" %}">
    <link rel="stylesheet" href="{% static "site/font-awesome-4.7.0/css/font-awesome.min.css" %}">

    <style>
        body {
            height: 100%;
        }

        body {
            display: flex;
            align-items: center;
            padding-top: 40px;
            padding-bottom: 40px;
            background-color: #f5f5f5;
        }

        .form-signin {
            width: 100%;
            max-width: 330px;
            padding: 15px;
            margin: auto;
        }

        .form-signin .checkbox {
            font-weight: 400;
        }

        .form-signin .form-floating:focus-within {
            z-index: 2;
        }

        .form-signin input[id="id_username"] {
            margin-bottom: -1px;
            border-bottom-right-radius: 0;
            border-bottom-left-radius: 0;
        }

        .form-signin input[id="id_password"] {
            margin-bottom: 10px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }

        .form-signin input[id="old_password"] {}

        .form-signin input[id="id_new_password1"] {
            margin-bottom: -1px;
            border-bottom-right-radius: 0;
            border-bottom-left-radius: 0;
        }

        .form-signin input[id="id_new_password2"] {
            margin-bottom: 10px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }
    </style>

    {% block extrastyle %}
    {% endblock extrastyle %}

  </head>

  <body>

    {% block content %}
    {% endblock content %}

    <script type="text/javascript" src="{% static "site/jquery/jquery-3.7.1.min.js" %}"></script>

    <script type="text/javascript" src="{% static "site/jquery/jquery-migrate-3.4.0.js" %}" charset="utf-8"></script>

    <script type="text/javascript" src="{% static "site/bootstrap-5.3.2-dist/js/bootstrap.bundle.min.js" %}"></script>
    <script type="text/javascript" src="{% static "site/bootstrap-show-toast/bootstrap-show-toast.min.js" %}" charset="utf-8"></script>
    <script type="text/javascript" src="{% static "site/js/nes_utils.js" %}"></script>

    <script type="text/javascript" src="{% url "javascript-catalog" %}"></script>

    {% for message in messages %}
      {% if message.tags == "success" %}
        <script type="text/javascript" nonce="{{ request.csp_nonce }}">
            showSuccessMessage('{{ message }}')
        </script>
      {% endif %}

      {% if message.tags == "warning" %}
        <script type="text/javascript" nonce="{{ request.csp_nonce }}">
            showWarningMessage('{{ message }}')
        </script>
      {% endif %}

      {% if message.tags == "error" %}
        <script type="text/javascript" nonce="{{ request.csp_nonce }}">
            showErrorMessage('{{ message }}')
        </script>
      {% endif %}

      {% if message.tags == "info" %}
        <script type="text/javascript" nonce="{{ request.csp_nonce }}">
            showInfoMessage('{{ message }}')
        </script>
      {% endif %}
    {% endfor %}

    <script type="text/javascript" charset="utf-8" nonce="{{ request.csp_nonce }}">
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    </script>

    {% block extrascript %}
    {% endblock extrascript %}

  </body>
</html>
